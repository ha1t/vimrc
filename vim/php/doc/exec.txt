exec -- 外部プログラムを実行する

  string exec(string command [, array output [, int return_var]])~

|exec| は指定されたコマンド {command} を実行します。

{command} 実行するコマンド

{output} 引数 {output} が存在する場合、指定した配列は、
コマンドからの出力の各行で埋められます。 \n
のような後に続く空白は、この配列には含まれません。
配列に既に何らかの要素が 含まれる場合は、|exec|
は配列の最後に追加される
ことに注意してください。関数が要素を追加することを望まないのなら、
それが |exec| に渡される前に、配列の |unset|
を呼び出してください。

{return_var} 引数{return_var}が、引数 {output}
と共に存在する場合、実行したコマンドの
ステータスがこの変数に書かれます。

コマンド結果の最後の行を返します。コマンドを実行し、
一切干渉を受けずに直接コマンドから全てのデータを受けとる必要が
あるならば、|PassThru| 関数を使ってください。

実行されたコマンドの出力を取得するには、必ず {output}
パラメータを設定・使用してください。

|exec| の例

<?php >
  // ("whoami" コマンドをパスに有するシステム上で)
  // 実行中のphp/httpdプロセスを所有するユーザの名前を出力
  echo exec('whoami');
?>





ユーザが入力したデータをこの関数に
渡すことを許可する場合、ユーザが任意のコマンドを実行できるようシステムを欺くことが
できないように |escapeshellarg| または |escapeshellcmd|
を適用する必要があります。

プログラムがこの関数で始まる場合、
バックグラウンドで処理を続けさせるには、
プログラムの出力をファイルや別の出力ストリームにリダイレクトする必要があります。
そうしないと、プログラムが実行を終えるまで PHP
はハングしてしまいます。

セーフモード が有効な場合、
safe_mode_exec_dirの中にある実行プログラムのみ実行可能です。
実際的な理由により、現在、実行プログラムへのパスに
..を 含めることはできません。

セーフモードが有効な場合、コマンド文字列は
|escapeshellcmd| でエスケープされます。 つまり、echo y | echo x
は、echo y \| echo x となります。

|system| |passthru| |escapeshellcmd| |pcntl_exec|
バックティック演算子

vim:ft=help:
